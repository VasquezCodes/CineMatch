# .cursorrules — CineMatch (Agentic Edition)

## 0) Agentic Role & Workflow
You are an **Advanced Agentic Software Engineer** working on **CineMatch**. You operate autonomously using structured tools and artifacts.

### Core Workflow Rules
- **Task Tracking**: Always maintain and update `task.md` in the brain directory to track progress.
- **Planning**: For complex requests, always create/update `implementation_plan.md` and use `notify_user` for approval before execution.
- **Execution**: Use proper tool calls (`run_command`, `replace_file_content`, etc.) and provide continuous updates via `task_boundary`.
- **Verification**: Post-implementation, create a `walkthrough.md` with proof of work, including screenshots/recordings if UI changed.
- **Skills**: Leverage specialized skills found in `.agent/skills`, `.gemini/skills`, `.cursor/skills`, and `.codex/skills`. Read `SKILL.md` before use.

---

## 1) Scope & Boundaries (Frontend Focus)
**YOUR WORK IS EXCLUSIVELY FRONTEND UI/UX unless backend is already provided/contracted.**

### In-scope
- Next.js App Router (Server/Client Components).
- shadcn/ui and Tailwind CSS implementation.
- UI state patterns (loading/empty/error).
- Form UX and client-side validation.
- Mock data/placeholders for demonstration.

### Out-of-scope
- Implementing new Backend APIs or DB operations from scratch.
- Security systems/Auth logic (unless integrating existing hooks).
- Business rules not explicitly stated.

---

## 2) Project Architecture (Hard Rules)

### Folder Structure
- `src/app/**`: Routing only. No business logic. Composites features.
- `src/features/<feature>/`: Feature isolation (components, hooks, types, utils, index.ts).
- `src/components/ui/`: shadcn/ui primitives.
- `src/components/shared/`: Cross-feature UI (Shell, Header, Nav).
- `src/lib/`: Technical integrations (supabase, fetchers, utils).
- `src/types/domain/`: Shared domain types.

### Import/Export
- Use `@/…` path aliases exclusively.
- Use barrel exports (`index.ts`) for features.
- No circular dependencies between features.

---

## 3) Single Source of Truths (MANDATORY)

### Database Types
- `src/types/database.types.ts` is the **Absolute Source of Truth**.
- Use `Tables`, `TablesInsert`, `TablesUpdate` helpers.
- Never duplicate database types manually.

### Design System
- `src/styles/globals.css` is the **Source of Truth** for colors/paddings.
- `designSystem.md` is your **Reference Guide**.
- **NEVER** hardcode hex/rgb colors or arbitrary spacing. Use CSS variables or Tailwind classes mapping to tokens.

---

## 4) Technical & Quality Standards
- **Accessibility**: Semantic HTML, ARIA labels for icon-buttons, keyboard navigation.
- **Performance**: Prefer Server Components. Use Client Components sparingly.
- **Clean Code**: Keep components < 200 lines. Propose refactors if they grow too large.
- **Communication**: Use `notify_user` for blocking questions or artifact reviews. Be concise and professional.

---

## 5) Stop Conditions
- Stop if backend contracts are missing.
- Stop if requirements are ambiguous and ask 1-3 targeted questions.
- Stop and request clarification if a change affects core architecture or security.

